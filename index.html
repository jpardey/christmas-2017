<!DOCTYPE html>
<html>
<head>
<title>Merry Christmas!</title>
<link href="https://fonts.googleapis.com/css?family=Oswald|Almendra:700i" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="main.css" />
</head>
<body style="background: #000;">
<div allowFullscreen=allowFullscreen id=graphicsSpace>

</div>
<div class="below">
<h1 id=heading>Javascript unloaded or failed...</h1>
<p>If the animation doesn't show up, or acts weird, please email me at <a href="mailto:jpardey@gmail.com">jpardey@gmail.com</a>, or add an issue on the <a href="https://www.github.com/jpardey/christmas-2017">GitHub project</a></p>
<h2>Options</h2>
<div class="options">
<label class="formelem" for="rescale">Resolution reduction factor (may increase performance)</label>
<select id=rescale>
<option value="1">full</option>
<option value="0.75">3/4</option>
<option value="0.5">1/2</option>
<option value="0.333">1/3</option>
<option value="0.25">1/4</option>
</select>
<div id="fullscreencontainer">
<button class=btn id="fullscreen">Go Fullscreen</button>
</div>
</div>

<h2>Notes</h2>
<p>
This won't work on Internet Explorer. Sorry about that! If you don't have another browser you can use, I'd happily add support
<p>
If this runs too slowly for you, try changing the resolution factor in the menu. It makes things grainier, but it should be a bit faster. Gives it that VHS charm.
<p>
This was partially an excuse to play around with generative graphics. Every snowflake is generated using random numbers, in a method outlined below.
<p>
I know, I'm bad at drawing houses and evergreen trees. Besides drawing a better backdrop, I'd liked to have added various animals running about and stuff.

<h2>Making Snowflakes</h2>
Each snowflake is generated roughly in the following manner:
<ol>
<li>In a wedge, 1/12 of a circle, pick between 5 and 10 random points to base the snowflake on. 
In addition, pick a point in the center, or two points on the edges, so that the completed snowflake will be connected.
</li><li>
Generate the <a href="https://en.wikipedia.org/wiki/Delaunay_triangulation">Delaunay triangulation</a> of the chosen points. Use this to generate a <a href="https://en.wikipedia.org/wiki/Minimum_spanning_tree">minimum spanning tree</a>. Add a couple more edges from the triangulation.
</li><li>
Mirror the design once and add together, filling up a 1/6th wedge of a circle. Then rotate five times and add, completing a full circle.
</li><li>
Draw the thing!
</li>
</ol>
<h2>More tech stuff</h2>
The only JavaScript library used here was <a href="http://www.pixijs.com">PIXI.js</a>, to efficiently render the scene. It's incredible.
<p>
The <a href="https://github.com/jmespadero/pyDelaunay2D">pyDelaunay2D</a> project for Python was a great resource
for learning about the <a href="https://en.wikipedia.org/wiki/Bowyerâ€“Watson_algorithm">Bowyer-Watson triangulation algorithm</a>.
My implementation is way uglier and rougher. Since I'm using so few points, a brute force triangulation algorithm would have been just fine, but this one seemed much
more fun to write.

<p>

</div>



<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.6.2/pixi.min.js"></script>
<script src="lightpoints.js"></script>
<script src="triangulation.js"></script>
<script src="animation.js"></script>
</body>
</html>


